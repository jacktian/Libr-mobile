// Generated by CoffeeScript 1.6.3
(function() {
  var BookDetailController, HomeController, MainController, libr;

  libr = angular.module('libr.controllers', []);

  MainController = (function() {
    MainController.$inject = ['$scope', '$location', 'GeolocationService'];

    function MainController($scope, $location, GeolocationService) {
      this.$scope = $scope;
      this.$location = $location;
      console.log('init...');
      GeolocationService.getCurrentLocation(function(result) {
        this.$scope.position = result;
        return console.log(result);
      });
    }

    MainController.prototype.goTo = function(page) {
      this.$scope.sideMenuController.toggleRight();
      return this.$location.url('/' + page);
    };

    return MainController;

  })();

  HomeController = (function() {
    HomeController.$inject = ['$scope', '$location', 'BookService', 'ScanService'];

    function HomeController($scope, $location, BookService, ScanService) {
      var _this = this;
      this.$scope = $scope;
      this.$location = $location;
      BookService.getBooks().success(function(result) {
        _this.$scope.books = result.books;
        _this.$scope.enableBackButton = false;
        _this.$scope.rightButtons = [
          {
            type: 'button-icon icon ion-navicon',
            tap: function(e) {
              return $scope.sideMenuController.toggleRight();
            }
          }
        ];
        return _this.$scope.leftButtons = [
          {
            type: 'button-icon icon ion-camera',
            tap: function(e) {
              return ScanService.scan();
            }
          }
        ];
      });
    }

    return HomeController;

  })();

  BookDetailController = (function() {
    BookDetailController.$inject = ['$scope', '$stateParams', 'BookService'];

    function BookDetailController($scope, $stateParams, BookService) {
      var _this = this;
      this.$scope = $scope;
      this.$stateParams = $stateParams;
      this.BookService = BookService;
      BookService.getBook(this.$stateParams.isbn).success(function(result) {
        _this.$scope.book = result;
        _this.$scope.enableBackButton = true;
        _this.$scope.rightButtons = [
          {
            type: 'button-icon icon ion-navicon',
            tap: function(e) {
              return this.$scope.sideMenuController.toggleRight();
            }
          }
        ];
        _this.$scope.leftButtons = [];
        return _this.$scope.bookName = result.name;
      });
    }

    return BookDetailController;

  })();

  libr.controller('BookDetailController', BookDetailController);

  libr.controller('HomeCtrl', HomeController);

  libr.controller('MainCtrl', MainController);

}).call(this);
